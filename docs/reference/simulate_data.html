<!-- Generated by pkgdown: do not edit by hand -->
<!DOCTYPE html>
<html>
  <head>
  <meta charset="utf-8">
<meta http-equiv="X-UA-Compatible" content="IE=edge">
<meta name="viewport" content="width=device-width, initial-scale=1.0">

<title>Simulate datasets from a stan model — simulate_data • rstansim</title>

<!-- jquery -->
<script src="https://code.jquery.com/jquery-3.1.0.min.js" integrity="sha384-nrOSfDHtoPMzJHjVTdCopGqIqeYETSXhZDFyniQ8ZHcVy08QesyHcnOUpMpqnmWq" crossorigin="anonymous"></script>
<!-- Bootstrap -->
<link href="https://maxcdn.bootstrapcdn.com/bootswatch/3.3.7/flatly/bootstrap.min.css" rel="stylesheet" crossorigin="anonymous">

<script src="https://maxcdn.bootstrapcdn.com/bootstrap/3.3.7/js/bootstrap.min.js" integrity="sha384-Tc5IQib027qvyjSMfHjOMaLkfuWVxZxUPnCJA7l2mCWNIpG9mGCD8wGNIcPD7Txa" crossorigin="anonymous"></script>

<!-- Font Awesome icons -->
<link href="https://maxcdn.bootstrapcdn.com/font-awesome/4.6.3/css/font-awesome.min.css" rel="stylesheet" integrity="sha384-T8Gy5hrqNKT+hzMclPo118YTQO6cYprQmhrYwIiQ/3axmI1hQomh7Ud2hPOy8SP1" crossorigin="anonymous">


<!-- pkgdown -->
<link href="../pkgdown.css" rel="stylesheet">
<script src="../jquery.sticky-kit.min.js"></script>
<script src="../pkgdown.js"></script>
  
  
<!-- mathjax -->
<script src='https://mathjax.rstudio.com/latest/MathJax.js?config=TeX-AMS-MML_HTMLorMML'></script>

<!--[if lt IE 9]>
<script src="https://oss.maxcdn.com/html5shiv/3.7.3/html5shiv.min.js"></script>
<script src="https://oss.maxcdn.com/respond/1.4.2/respond.min.js"></script>
<![endif]-->


  </head>

  <body>
    <div class="container template-reference-topic">
      <header>
      <div class="navbar navbar-default navbar-fixed-top" role="navigation">
  <div class="container">
    <div class="navbar-header">
      <button type="button" class="navbar-toggle collapsed" data-toggle="collapse" data-target="#navbar">
        <span class="icon-bar"></span>
        <span class="icon-bar"></span>
        <span class="icon-bar"></span>
      </button>
      <a class="navbar-brand" href="../index.html">rstansim</a>
    </div>
    <div id="navbar" class="navbar-collapse collapse">
      <ul class="nav navbar-nav">
        <li>
  <a href="../index.html">
    <span class="fa fa-home"></span>
     
  </a>
</li>
<li class="dropdown">
  <a href="#" class="dropdown-toggle" data-toggle="dropdown" role="button" aria-expanded="false">
    How to
     
    <span class="caret"></span>
  </a>
  <ul class="dropdown-menu" role="menu">
    <li>
      <a href="https://ewan-keith.github.io/rstansim/articles/using-rstansim.html">Example Study with rstansim</a>
    </li>
    <li>
      <a href="https://ewan-keith.github.io/rstansim/articles/simulating_data.html">Simulating data</a>
    </li>
    <li>
      <a href="https://ewan-keith.github.io/rstansim/articles/model-fitting.html">Model fitting and capture of relevant data</a>
    </li>
    <li>
      <a href="https://ewan-keith.github.io/rstansim/articles/managing-results.html">Managing simulation results</a>
    </li>
    <li>
      <a href="https://ewan-keith.github.io/rstansim/articles/reproducability.html">A note on reproducability</a>
    </li>
  </ul>
</li>
      </ul>
      
      <ul class="nav navbar-nav navbar-right">
        <li>
  <a href="../news/index.html">
    <span class="fa fa-newspaper-o"></span>
     
    news
  </a>
</li>
<li>
  <a href="../reference/index.html">
    <span class="fa fa-file-code-o"></span>
     
    functions
  </a>
</li>
<li>
  <a href="https://github.com/Ewan-Keith/rstansim">
    <span class="fa fa-github fa-lg"></span>
     
    github
  </a>
</li>
      </ul>
    </div><!--/.nav-collapse -->
  </div><!--/.container -->
</div><!--/.navbar -->

      
      </header>

      <div class="row">
  <div class="col-md-9 contents">
    <div class="page-header">
    <h1>Simulate datasets from a stan model</h1>
    </div>

    
    <p><code>simulate_data()</code> takes a specified stan model and allows
  the user to simulate data from it based on specified parameter values. The
  user then specifies which data they wish to save and how many simulations
  they wish to run. The data will be saved as individual .rds files in the
  directory specified by <code>path</code>.</p>
<p>By default an object of class <code>stansim_data</code> will be returned,
  providing an index of the saved data that can then be provided directly to
  a <code>stansim()</code> call.</p>
<p>To allow for simulated data to be directly fed into stan model that
  simulated them as input data, the sim_drop argument is provided. If
  <code>sim_drop</code> is true then any stan data object with a name beginning
  with "sim_" will have this string removed from it's name. For example, the
  simulated data "sim_x" would be returned simply as "x". This helps avoid
  the issue of overlapping data names for both input and output</p>
    

    <pre class="usage"><span class='fu'>simulate_data</span>(<span class='no'>file</span>, <span class='kw'>data_name</span> <span class='kw'>=</span> <span class='fu'>paste0</span>(<span class='st'>"Simdata_"</span>, <span class='fu'>Sys.time</span>()),
  <span class='kw'>input_data</span> <span class='kw'>=</span> <span class='kw'>NULL</span>, <span class='kw'>vars</span> <span class='kw'>=</span> <span class='st'>"all"</span>, <span class='kw'>param_values</span> <span class='kw'>=</span> <span class='kw'>NULL</span>, <span class='kw'>nsim</span> <span class='kw'>=</span> <span class='fl'>1</span>,
  <span class='kw'>path</span> <span class='kw'>=</span> <span class='kw'>NULL</span>, <span class='kw'>seed</span> <span class='kw'>=</span> <span class='fu'>floor</span>(<span class='kw pkg'>stats</span><span class='kw ns'>::</span><span class='fu'><a href='http://www.rdocumentation.org/packages/stats/topics/Uniform'>runif</a></span>(<span class='fl'>1</span>, <span class='fl'>1</span>, <span class='fl'>1e+05</span>)),
  <span class='kw'>return_object</span> <span class='kw'>=</span> <span class='fl'>TRUE</span>, <span class='kw'>use_cores</span> <span class='kw'>=</span> <span class='fl'>1</span>, <span class='kw'>sim_drop</span> <span class='kw'>=</span> <span class='fl'>TRUE</span>,
  <span class='kw'>recursive</span> <span class='kw'>=</span> <span class='fl'>TRUE</span>)</pre>
    
    <h2 class="hasAnchor" id="arguments"><a class="anchor" href="#arguments"></a> Arguments</h2>
    <table class="ref-arguments">
    <colgroup><col class="name" /><col class="desc" /></colgroup>
    <tr>
      <th>file</th>
      <td><p>A character string containing either the file location of the
model code (ending in ".stan"), a character string containing the model
specification or the name of a character string object in the workspace.</p></td>
    </tr>
    <tr>
      <th>data_name</th>
      <td><p>A name attached to the <code>stansim_data</code> object to help
identify it. It is strongly recommended that an informative name is
assigned. This will also be the name stem for the saved .rds files.</p></td>
    </tr>
    <tr>
      <th>input_data</th>
      <td><p>Values for the data field in the provided stan model.
Values must be provided for all entries even if they are not used in the
'generate quantities' model section producing the simulated data.</p></td>
    </tr>
    <tr>
      <th>vars</th>
      <td><p>The names of the stan variables to return. Defaults to "all",
otherwise a vector of variable names should be provided.</p></td>
    </tr>
    <tr>
      <th>param_values</th>
      <td><p>A list containing the named values for the stan model
parameters used to simulate data. If a parameter's value is not specified
here it will be initialised randomly. Recommended to specify all parameter
values.</p></td>
    </tr>
    <tr>
      <th>nsim</th>
      <td><p>The number of simulated datasets to produce.</p></td>
    </tr>
    <tr>
      <th>path</th>
      <td><p>The name of the directory to save the simulated data to, if this
doesn't exist it will be created. Defaults to NULL in which the datasets
are saved to the working directory</p></td>
    </tr>
    <tr>
      <th>seed</th>
      <td><p>Set a seed for the function.</p></td>
    </tr>
    <tr>
      <th>return_object</th>
      <td><p>if FALSE then no <code>stansim_data</code> object is returned.</p></td>
    </tr>
    <tr>
      <th>use_cores</th>
      <td><p>Number of cores to use when running in parallel.</p></td>
    </tr>
    <tr>
      <th>sim_drop</th>
      <td><p>If TRUE then any simulated data objects beginning in "sim_"
will have this removed. So "sim_x" becomes "x".</p></td>
    </tr>
    <tr>
      <th>recursive</th>
      <td><p>logical. Should elements of the path other than the last be
created? If true, like the Unix command mkdir -p.</p></td>
    </tr>
    </table>
    
    <h2 class="hasAnchor" id="value"><a class="anchor" href="#value"></a>Value</h2>

    <p>An object of S3 class stansim_data or NULL.</p>
    

  </div>
  <div class="col-md-3 hidden-xs hidden-sm" id="sidebar">
    <h2>Contents</h2>
    <ul class="nav nav-pills nav-stacked">
      <li><a href="#arguments">Arguments</a></li>
      
      <li><a href="#value">Value</a></li>
          </ul>

  </div>
</div>

      <footer>
      <div class="copyright">
  <p>Developed by Ewan Keith.</p>
</div>

<div class="pkgdown">
  <p>Site built with <a href="http://hadley.github.io/pkgdown/">pkgdown</a>.</p>
</div>

      </footer>
   </div>

  </body>
</html>
