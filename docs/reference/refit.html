<!-- Generated by pkgdown: do not edit by hand -->
<!DOCTYPE html>
<html>
  <head>
  <meta charset="utf-8">
<meta http-equiv="X-UA-Compatible" content="IE=edge">
<meta name="viewport" content="width=device-width, initial-scale=1.0">

<title>Refit specified datasets in a stansim_simulation object — refit • rstansim</title>

<!-- jquery -->
<script src="https://code.jquery.com/jquery-3.1.0.min.js" integrity="sha384-nrOSfDHtoPMzJHjVTdCopGqIqeYETSXhZDFyniQ8ZHcVy08QesyHcnOUpMpqnmWq" crossorigin="anonymous"></script>
<!-- Bootstrap -->
<link href="https://maxcdn.bootstrapcdn.com/bootswatch/3.3.7/flatly/bootstrap.min.css" rel="stylesheet" crossorigin="anonymous">

<script src="https://maxcdn.bootstrapcdn.com/bootstrap/3.3.7/js/bootstrap.min.js" integrity="sha384-Tc5IQib027qvyjSMfHjOMaLkfuWVxZxUPnCJA7l2mCWNIpG9mGCD8wGNIcPD7Txa" crossorigin="anonymous"></script>

<!-- Font Awesome icons -->
<link href="https://maxcdn.bootstrapcdn.com/font-awesome/4.6.3/css/font-awesome.min.css" rel="stylesheet" integrity="sha384-T8Gy5hrqNKT+hzMclPo118YTQO6cYprQmhrYwIiQ/3axmI1hQomh7Ud2hPOy8SP1" crossorigin="anonymous">


<!-- pkgdown -->
<link href="../pkgdown.css" rel="stylesheet">
<script src="../jquery.sticky-kit.min.js"></script>
<script src="../pkgdown.js"></script>
  
  
<!-- mathjax -->
<script src='https://mathjax.rstudio.com/latest/MathJax.js?config=TeX-AMS-MML_HTMLorMML'></script>

<!--[if lt IE 9]>
<script src="https://oss.maxcdn.com/html5shiv/3.7.3/html5shiv.min.js"></script>
<script src="https://oss.maxcdn.com/respond/1.4.2/respond.min.js"></script>
<![endif]-->


  </head>

  <body>
    <div class="container template-reference-topic">
      <header>
      <div class="navbar navbar-default navbar-fixed-top" role="navigation">
  <div class="container">
    <div class="navbar-header">
      <button type="button" class="navbar-toggle collapsed" data-toggle="collapse" data-target="#navbar">
        <span class="icon-bar"></span>
        <span class="icon-bar"></span>
        <span class="icon-bar"></span>
      </button>
      <a class="navbar-brand" href="../index.html">rstansim</a>
    </div>
    <div id="navbar" class="navbar-collapse collapse">
      <ul class="nav navbar-nav">
        <li>
  <a href="../index.html">
    <span class="fa fa-home"></span>
     
  </a>
</li>
<li class="dropdown">
  <a href="#" class="dropdown-toggle" data-toggle="dropdown" role="button" aria-expanded="false">
    How to
     
    <span class="caret"></span>
  </a>
  <ul class="dropdown-menu" role="menu">
    <li>
      <a href="https://ewan-keith.github.io/rstansim/articles/using-rstansim.html">Example Study with rstansim</a>
    </li>
    <li>
      <a href="https://ewan-keith.github.io/rstansim/articles/simulating_data.html">Simulating data</a>
    </li>
    <li>
      <a href="https://ewan-keith.github.io/rstansim/articles/model-fitting.html">Model fitting and capture of relevant data</a>
    </li>
    <li>
      <a href="https://ewan-keith.github.io/rstansim/articles/managing-results.html">Managing simulation results</a>
    </li>
    <li>
      <a href="https://ewan-keith.github.io/rstansim/articles/reproducability.html">A note on reproducability</a>
    </li>
  </ul>
</li>
      </ul>
      
      <ul class="nav navbar-nav navbar-right">
        <li>
  <a href="../news/index.html">
    <span class="fa fa-newspaper-o"></span>
     
    news
  </a>
</li>
<li>
  <a href="../reference/index.html">
    <span class="fa fa-file-code-o"></span>
     
    functions
  </a>
</li>
<li>
  <a href="https://github.com/Ewan-Keith/rstansim">
    <span class="fa fa-github fa-lg"></span>
     
    github
  </a>
</li>
      </ul>
    </div><!--/.nav-collapse -->
  </div><!--/.container -->
</div><!--/.navbar -->

      
      </header>

      <div class="row">
  <div class="col-md-9 contents">
    <div class="page-header">
    <h1>Refit specified datasets in a stansim_simulation object</h1>
    </div>

    
    <p><code>refit</code> Takes a <code>stansim_simulation</code> object and a
  vector of characters corresponding to the names of datasets fitted within
  the <code>stansim_simulation</code> object, and refits the stan model for each of
  these instances. This allows users to refit any specific models using new
  stan arguments if need be (e.g. if the model fails to converge in the
  original run).</p>
    

    <pre class="usage"><span class='fu'>refit</span>(<span class='no'>object</span>, <span class='no'>datasets</span>, <span class='kw'>stan_args</span> <span class='kw'>=</span> <span class='fu'>list</span>(), <span class='kw'>calc_loo</span> <span class='kw'>=</span> <span class='fl'>FALSE</span>,
  <span class='kw'>use_cores</span> <span class='kw'>=</span> <span class='fl'>1L</span>, <span class='kw'>cache</span> <span class='kw'>=</span> <span class='fl'>TRUE</span>, <span class='kw'>seed</span> <span class='kw'>=</span> <span class='fu'>floor</span>(<span class='kw pkg'>stats</span><span class='kw ns'>::</span><span class='fu'><a href='http://www.rdocumentation.org/packages/stats/topics/Uniform'>runif</a></span>(<span class='fl'>1</span>, <span class='fl'>1</span>, <span class='fl'>1e+05</span>)))</pre>
    
    <h2 class="hasAnchor" id="arguments"><a class="anchor" href="#arguments"></a> Arguments</h2>
    <table class="ref-arguments">
    <colgroup><col class="name" /><col class="desc" /></colgroup>
    <tr>
      <th>object</th>
      <td><p>An object of S3 class stansim_simulation.</p></td>
    </tr>
    <tr>
      <th>datasets</th>
      <td><p>The full names of the data files to be refitted. These must
be consistent both with the dataset names stored within the
<code>stansim_simulation</code> object, and with the copies of the data files
relative to the current working directory. This is best ensured by running
refit from the same working directory as the original <code><a href='fit_models.html'>fit_models()</a></code> call.</p></td>
    </tr>
    <tr>
      <th>stan_args</th>
      <td><p>A list of function arguments to be used by the internal
<code><a href='http://www.rdocumentation.org/packages/rstan/topics/stanmodel-method-sampling'>rstan::sampling()</a></code> function when fitting the models. If not specified
then the <code>sampling()</code>  defaults are used.</p></td>
    </tr>
    <tr>
      <th>calc_loo</th>
      <td><p>If <code>TRUE</code> then model fit statistics will be calculated
using the <code>loo</code> package. If <code>TRUE</code> there must be a valid log_lik
quantity specified in the generated quantities section of the provided stan
model.</p></td>
    </tr>
    <tr>
      <th>use_cores</th>
      <td><p>Number of cores to use when running in parallel. Each stan
model is fitted serially regardless of the number of chains ran as
parallelisation across models is more flexible than within.</p></td>
    </tr>
    <tr>
      <th>cache</th>
      <td><p>If <code>TRUE</code> then the results for each instance are written to
a local, temporary file so that data is not lost should the function not
terminate properly. This temporary data is removed upon the model
terminating as expected. If <code>FALSE</code> no data is written and results are
only returned upon the correct termination of the whole function. The
default value of <code>TRUE</code> is recommended unless there are relevant
write-permission restrictions.</p></td>
    </tr>
    <tr>
      <th>seed</th>
      <td><p>Set a seed for the <code><a href='fit_models.html'>fit_models()</a></code> function.</p></td>
    </tr>
    </table>
    
    <h2 class="hasAnchor" id="value"><a class="anchor" href="#value"></a>Value</h2>

    <p>An S3 object of class <code>stansim_simulation</code> recording relevant
  simulation data.</p>
    

    <h2 class="hasAnchor" id="examples"><a class="anchor" href="#examples"></a>Examples</h2>
    <pre class="examples"># NOT RUN {
# refit datasets "data_file-12.rds" & "data_file-08.rds"
refit(simulation,
      datasets = c("data_file-12.rds", "data_file-08.rds")
      use_cores = 4)

# refit dataset "data_file-12.rds" using a larger number of samples
refit(simulation,
      datasets = "data_file-12.rds",
      stan_args = list(iter = 4000),
      use_cores = 4)
# }
<div class='input'>
</div></pre>
  </div>
  <div class="col-md-3 hidden-xs hidden-sm" id="sidebar">
    <h2>Contents</h2>
    <ul class="nav nav-pills nav-stacked">
      <li><a href="#arguments">Arguments</a></li>
      
      <li><a href="#value">Value</a></li>
      
      <li><a href="#examples">Examples</a></li>
    </ul>

  </div>
</div>

      <footer>
      <div class="copyright">
  <p>Developed by Ewan Keith.</p>
</div>

<div class="pkgdown">
  <p>Site built with <a href="http://hadley.github.io/pkgdown/">pkgdown</a>.</p>
</div>

      </footer>
   </div>

  </body>
</html>
